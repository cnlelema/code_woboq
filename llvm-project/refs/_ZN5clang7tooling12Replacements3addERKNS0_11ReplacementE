<dec f='llvm/clang/include/clang/Tooling/Core/Replacement.h' l='258' type='llvm::Error clang::tooling::Replacements::add(const clang::tooling::Replacement &amp; R)'/>
<doc f='llvm/clang/include/clang/Tooling/Core/Replacement.h' l='221'>/// Adds a new replacement \p R to the current set of replacements.
  /// \p R must have the same file path as all existing replacements.
  /// Returns `success` if the replacement is successfully inserted; otherwise,
  /// it returns an llvm::Error, i.e. there is a conflict between R and the
  /// existing replacements (i.e. they are order-dependent) or R&apos;s file path is
  /// different from the filepath of existing replacements. Callers must
  /// explicitly check the Error returned, and the returned error can be
  /// converted to a string message with `llvm::toString()`. This prevents users
  /// from adding order-dependent replacements. To control the order in which
  /// order-dependent replacements are applied, use merge({R}) with R referring
  /// to the changed code after applying all existing replacements.
  /// Two replacements A and B are considered order-independent if applying them
  /// in either order produces the same result. Note that the range of the
  /// replacement that is applied later still refers to the original code.
  /// These include (but not restricted to) replacements that:
  ///   - don&apos;t overlap (being directly adjacent is fine) and
  ///   - are overlapping deletions.
  ///   - are insertions at the same offset and applying them in either order
  ///     has the same effect, i.e. X + Y = Y + X when inserting X and Y
  ///     respectively.
  ///   - are identical replacements, i.e. applying the same replacement twice
  ///     is equivalent to applying it once.
  /// Examples:
  /// 1. Replacement A(0, 0, &quot;a&quot;) and B(0, 0, &quot;aa&quot;) are order-independent since
  ///    applying them in either order gives replacement (0, 0, &quot;aaa&quot;).
  ///    However, A(0, 0, &quot;a&quot;) and B(0, 0, &quot;b&quot;) are order-dependent since
  ///    applying A first gives (0, 0, &quot;ab&quot;) while applying B first gives (B, A,
  ///    &quot;ba&quot;).
  /// 2. Replacement A(0, 2, &quot;123&quot;) and B(0, 2, &quot;123&quot;) are order-independent
  ///    since applying them in either order gives (0, 2, &quot;123&quot;).
  /// 3. Replacement A(0, 3, &quot;123&quot;) and B(2, 3, &quot;321&quot;) are order-independent
  ///    since either order gives (0, 5, &quot;12321&quot;).
  /// 4. Replacement A(0, 3, &quot;ab&quot;) and B(0, 3, &quot;ab&quot;) are order-independent since
  ///    applying the same replacement twice is equivalent to applying it once.
  /// Replacements with offset UINT_MAX are special - we do not detect conflicts
  /// for such replacements since users may add them intentionally as a special
  /// category of replacements.</doc>
<use f='llvm/clang/lib/Format/Format.cpp' l='1195' u='c' c='_ZN5clang6format12_GLOBAL__N_118JavaScriptRequoter22requoteJSStringLiteralERN4llvm15SmallVectorImplIPNS0_13AnnotatedLineEEERNS_7tooling12ReplacementsE'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='1276' u='c' c='_ZN5clang6format12_GLOBAL__N_19Formatter7analyzeERNS0_14TokenAnnotatorERN4llvm15SmallVectorImplIPNS0_13AnnotatedLineEEERNS0_16FormatTokenLexerE'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='1547' u='c' c='_ZN5clang6format12_GLOBAL__N_17Cleaner13generateFixesEv'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='1838' u='c' c='_ZN5clang6formatL15sortCppIncludesERKNS0_11FormatStyleERKN4llvm15SmallVectorImplINS0_12_GLOBAL__N_116IncludeDirectiveEEENS4_8ArrayRefINS_7tooling5Rang11030973'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='2003' u='c' c='_ZN5clang6formatL15sortJavaImportsERKNS0_11FormatStyleERKN4llvm15SmallVectorImplINS0_12_GLOBAL__N_119JavaImportDirectiveEEENS4_8ArrayRefINS_7tooling5R14360751'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='2172' u='c' c='_ZN5clang6format12_GLOBAL__N_123fixCppIncludeInsertionsEN4llvm9StringRefERKNS_7tooling12ReplacementsERKNS0_11FormatStyleE'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='2180' u='c' c='_ZN5clang6format12_GLOBAL__N_123fixCppIncludeInsertionsEN4llvm9StringRefERKNS_7tooling12ReplacementsERKNS0_11FormatStyleE'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='2193' u='c' c='_ZN5clang6format12_GLOBAL__N_123fixCppIncludeInsertionsEN4llvm9StringRefERKNS_7tooling12ReplacementsERKNS0_11FormatStyleE'/>
<use f='llvm/clang/lib/Format/Format.cpp' l='2215' u='c' c='_ZN5clang6format12_GLOBAL__N_123fixCppIncludeInsertionsEN4llvm9StringRefERKNS_7tooling12ReplacementsERKNS0_11FormatStyleE'/>
<use f='llvm/clang/lib/Format/NamespaceEndCommentsFixer.cpp' l='120' u='c' c='_ZN5clang6format12_GLOBAL__N_113addEndCommentEPKNS0_11FormatTokenEN4llvm9StringRefERKNS_13SourceManagerEPNS_7tooling12ReplacementsE'/>
<use f='llvm/clang/lib/Format/NamespaceEndCommentsFixer.cpp' l='134' u='c' c='_ZN5clang6format12_GLOBAL__N_116updateEndCommentEPKNS0_11FormatTokenEN4llvm9StringRefERKNS_13SourceManagerEPNS_7tooling12ReplacementsE'/>
<use f='llvm/clang/lib/Format/SortJavaScriptImports.cpp' l='192' u='c' c='_ZN5clang6format22JavaScriptImportSorter7analyzeERNS0_14TokenAnnotatorERN4llvm15SmallVectorImplIPNS0_13AnnotatedLineEEERNS0_16FormatTokenLexerE'/>
<use f='llvm/clang/lib/Format/TokenAnalyzer.cpp' l='102' u='c' c='_ZN5clang6format13TokenAnalyzer7processEv'/>
<use f='llvm/clang/lib/Format/UsingDeclarationsSorter.cpp' l='145' u='c' c='_ZN5clang6format12_GLOBAL__N_124endUsingDeclarationBlockEPN4llvm15SmallVectorImplINS1_16UsingDeclarationEEERKNS_13SourceManagerEPNS_7tooling12ReplacementsE'/>
<use f='llvm/clang/lib/Format/UsingDeclarationsSorter.cpp' l='169' u='c' c='_ZN5clang6format12_GLOBAL__N_124endUsingDeclarationBlockEPN4llvm15SmallVectorImplINS1_16UsingDeclarationEEERKNS_13SourceManagerEPNS_7tooling12ReplacementsE'/>
<use f='llvm/clang/lib/Format/WhitespaceManager.cpp' l='71' u='c' c='_ZN5clang6format17WhitespaceManager14addReplacementERKNS_7tooling11ReplacementE'/>
<use f='llvm/clang/lib/Format/WhitespaceManager.cpp' l='655' u='c' c='_ZN5clang6format17WhitespaceManager16storeReplacementENS_11SourceRangeEN4llvm9StringRefE'/>
<def f='llvm/clang/lib/Tooling/Core/Replacement.cpp' l='245' ll='342' type='llvm::Error clang::tooling::Replacements::add(const clang::tooling::Replacement &amp; R)'/>
<use f='llvm/clang/lib/Tooling/Core/Replacement.cpp' l='523' u='c' c='_ZN5clang7tooling32calculateRangesAfterReplacementsERKNS0_12ReplacementsERKSt6vectorINS0_5RangeESaIS5_EE'/>
<use f='llvm/clang/lib/Tooling/Inclusions/HeaderIncludes.cpp' l='342' u='c' c='_ZNK5clang7tooling14HeaderIncludes6removeEN4llvm9StringRefEb'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='159' u='c' c='_ZN5clang7tooling12_GLOBAL__N_128createReplacementsForHeadersEN4llvm9StringRefES3_NS2_8ArrayRefINS0_12AtomicChangeEEERKNS_6format11FormatStyleE'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='168' u='c' c='_ZN5clang7tooling12_GLOBAL__N_128createReplacementsForHeadersEN4llvm9StringRefES3_NS2_8ArrayRefINS0_12AtomicChangeEEERKNS_6format11FormatStyleE'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='188' u='c' c='_ZN5clang7tooling12_GLOBAL__N_128combineReplacementsInChangesEN4llvm9StringRefENS2_8ArrayRefINS0_12AtomicChangeEEE'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='243' u='c' c='_ZN5clang7tooling12AtomicChange15convertFromYAMLEN4llvm9StringRefE'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='255' u='c' c='_ZN5clang7tooling12AtomicChange7replaceERKNS_13SourceManagerERKNS_15CharSourceRangeEN4llvm9StringRefE'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='260' u='c' c='_ZN5clang7tooling12AtomicChange7replaceERKNS_13SourceManagerENS_14SourceLocationEjN4llvm9StringRefE'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='268' u='c' c='_ZN5clang7tooling12AtomicChange6insertERKNS_13SourceManagerENS_14SourceLocationEN4llvm9StringRefEb'/>
<use f='llvm/clang/lib/Tooling/Refactoring/AtomicChange.cpp' l='313' u='c' c='_ZN5clang7tooling18applyAtomicChangesEN4llvm9StringRefES2_NS1_8ArrayRefINS0_12AtomicChangeEEERKNS0_16ApplyChangesSpecE'/>
<use f='llvm/clang/lib/Tooling/Refactoring/Rename/RenamingAction.cpp' l='171' u='c' c='_ZN5clang7toolingL32convertChangesToFileReplacementsEN4llvm8ArrayRefINS0_12AtomicChangeEEEPSt3mapINSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE450622'/>
<use f='llvm/clang/lib/Tooling/RefactoringCallbacks.cpp' l='53' u='c' c='_ZN5clang7tooling22RefactoringASTConsumer21HandleTranslationUnitERNS_10ASTContextE'/>
<use f='llvm/clang/lib/Tooling/RefactoringCallbacks.cpp' l='91' u='c' c='_ZN5clang7tooling19ReplaceStmtWithText3runERKNS_12ast_matchers11MatchFinder11MatchResultE'/>
<use f='llvm/clang/lib/Tooling/RefactoringCallbacks.cpp' l='111' u='c' c='_ZN5clang7tooling19ReplaceStmtWithStmt3runERKNS_12ast_matchers11MatchFinder11MatchResultE'/>
<use f='llvm/clang/lib/Tooling/RefactoringCallbacks.cpp' l='231' u='c' c='_ZN5clang7tooling23ReplaceNodeWithTemplate3runERKNS_12ast_matchers11MatchFinder11MatchResultE'/>
<use f='llvm/clang/unittests/Tooling/ReplacementTest.h' l='30' u='c' c='_ZN5clang7tooling14toReplacementsERKSt3setINS0_11ReplacementESt4lessIS2_ESaIS2_EE'/>
<use f='llvm/clang/include/clang/Tooling/DiagnosticsYaml.h' l='41' u='c' c='_ZN4llvm4yaml13MappingTraitsIN5clang7tooling17DiagnosticMessageEE7mappingERNS0_2IOERS4_'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='146' u='c' c='_ZN5clang7tooling40ReplacementTest_FailAddReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='151' u='c' c='_ZN5clang7tooling40ReplacementTest_FailAddReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='157' u='c' c='_ZN5clang7tooling40ReplacementTest_FailAddReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='163' u='c' c='_ZN5clang7tooling40ReplacementTest_FailAddReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='175' u='c' c='_ZN5clang7tooling43ReplacementTest_DeletionInReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='178' u='c' c='_ZN5clang7tooling43ReplacementTest_DeletionInReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='181' u='c' c='_ZN5clang7tooling43ReplacementTest_DeletionInReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='190' u='c' c='_ZN5clang7tooling44ReplacementTest_OverlappingReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='193' u='c' c='_ZN5clang7tooling44ReplacementTest_OverlappingReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='200' u='c' c='_ZN5clang7tooling44ReplacementTest_OverlappingReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='210' u='c' c='_ZN5clang7tooling55ReplacementTest_AddAdjacentInsertionAndReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='213' u='c' c='_ZN5clang7tooling55ReplacementTest_AddAdjacentInsertionAndReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='220' u='c' c='_ZN5clang7tooling55ReplacementTest_AddAdjacentInsertionAndReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='223' u='c' c='_ZN5clang7tooling55ReplacementTest_AddAdjacentInsertionAndReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='232' u='c' c='_ZN5clang7tooling38ReplacementTest_MergeNewDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='236' u='c' c='_ZN5clang7tooling38ReplacementTest_MergeNewDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='240' u='c' c='_ZN5clang7tooling38ReplacementTest_MergeNewDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='244' u='c' c='_ZN5clang7tooling38ReplacementTest_MergeNewDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='254' u='c' c='_ZN5clang7tooling62ReplacementTest_MergeOverlappingButNotAdjacentReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='258' u='c' c='_ZN5clang7tooling62ReplacementTest_MergeOverlappingButNotAdjacentReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='263' u='c' c='_ZN5clang7tooling62ReplacementTest_MergeOverlappingButNotAdjacentReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='268' u='c' c='_ZN5clang7tooling62ReplacementTest_MergeOverlappingButNotAdjacentReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='281' u='c' c='_ZN5clang7tooling51ReplacementTest_InsertionBeforeMergedDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='285' u='c' c='_ZN5clang7tooling51ReplacementTest_InsertionBeforeMergedDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='290' u='c' c='_ZN5clang7tooling51ReplacementTest_InsertionBeforeMergedDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='301' u='c' c='_ZN5clang7tooling46ReplacementTest_MergeOverlappingDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='305' u='c' c='_ZN5clang7tooling46ReplacementTest_MergeOverlappingDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='312' u='c' c='_ZN5clang7tooling46ReplacementTest_MergeOverlappingDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='322' u='c' c='_ZN5clang7tooling49ReplacementTest_FailedMergeExistingDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='327' u='c' c='_ZN5clang7tooling49ReplacementTest_FailedMergeExistingDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='331' u='c' c='_ZN5clang7tooling49ReplacementTest_FailedMergeExistingDeletions_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='343' u='c' c='_ZN5clang7tooling38ReplacementTest_FailAddRegression_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='346' u='c' c='_ZN5clang7tooling38ReplacementTest_FailAddRegression_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='353' u='c' c='_ZN5clang7tooling38ReplacementTest_FailAddRegression_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='358' u='c' c='_ZN5clang7tooling38ReplacementTest_FailAddRegression_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='365' u='c' c='_ZN5clang7tooling48ReplacementTest_InsertAtOffsetOfReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='368' u='c' c='_ZN5clang7tooling48ReplacementTest_InsertAtOffsetOfReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='374' u='c' c='_ZN5clang7tooling48ReplacementTest_InsertAtOffsetOfReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='377' u='c' c='_ZN5clang7tooling48ReplacementTest_InsertAtOffsetOfReplacement_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='385' u='c' c='_ZN5clang7tooling62ReplacementTest_AddInsertAtOtherInsertWhenOderIndependent_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='389' u='c' c='_ZN5clang7tooling62ReplacementTest_AddInsertAtOtherInsertWhenOderIndependent_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='395' u='c' c='_ZN5clang7tooling62ReplacementTest_AddInsertAtOtherInsertWhenOderIndependent_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='398' u='c' c='_ZN5clang7tooling62ReplacementTest_AddInsertAtOtherInsertWhenOderIndependent_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='405' u='c' c='_ZN5clang7tooling62ReplacementTest_AddInsertAtOtherInsertWhenOderIndependent_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='408' u='c' c='_ZN5clang7tooling62ReplacementTest_AddInsertAtOtherInsertWhenOderIndependent_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='411' u='c' c='_ZN5clang7tooling62ReplacementTest_AddInsertAtOtherInsertWhenOderIndependent_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='421' u='c' c='_ZN5clang7tooling54ReplacementTest_InsertBetweenAdjacentReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='424' u='c' c='_ZN5clang7tooling54ReplacementTest_InsertBetweenAdjacentReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='427' u='c' c='_ZN5clang7tooling54ReplacementTest_InsertBetweenAdjacentReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='473' u='c' c='_ZN5clang7tooling45ReplacementTest_AddDuplicateReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='478' u='c' c='_ZN5clang7tooling45ReplacementTest_AddDuplicateReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RefactoringTest.cpp' l='495' u='c' c='_ZN5clang7tooling51ReplacementTest_FailOrderDependentReplacements_Test8TestBodyEv'/>
<use f='llvm/clang/unittests/Tooling/RewriterTest.cpp' l='41' u='c' c='_ZN5clang7tooling12_GLOBAL__N_137Rewriter_AdjacentInsertAndDelete_Test8TestBodyEv'/>
